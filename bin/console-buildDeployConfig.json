{
   "annotations":{
      "description":"The fabric8 console"
   },
   "apiVersion":"v1beta1",
   "kind":"List",
   "items":[
      {
         "apiVersion":"v1beta1",
         "kind":"BuildConfig",
         "metadata":{
            "labels":{
               "component":"fabric8Console"
            },
            "name":"console-build"
         },
         "parameters":{
            "output":{
               "to":{
                  "name":"console"
               }
            },
            "source":{
               "git":{
                  "uri":"https://github.com/hawtio/hawtio-kubernetes.git"
               },
               "type":"Git"
            },
            "strategy":{
               "customStrategy":{
                  "image":"fabric8/fabric8-hawtio-builder",
                  "exposeDockerSocket": true
               },
               "type":"Custom"
            }
         },
         "triggers":[
            {
               "github":{
                  "secret":"secret101"
               },
               "type":"github"
            },
            {
               "generic":{
                  "secret":"secret101"
               },
               "type":"generic"
            }
         ]
      },
      {
         "apiVersion":"v1beta1",
         "kind":"ImageRepository",
         "metadata":{
            "labels":{
               "component":"fabric8Console"
            },
            "name":"console"
         }
      },
      {
         "apiVersion":"v1beta1",
         "kind":"DeploymentConfig",
         "metadata":{
            "name":"console-deploy-config"
         },
         "template":{
            "controllerTemplate":{
               "podTemplate":{
                  "desiredState":{
                     "manifest":{
                        "containers":[
                           {
                              "image":"console",
                              "name":"fabric8-console-container",
                              "env":[
                                 {
                                    "name":"OAUTH_CLIENT_ID",
                                    "value":"fabric8-console"
                                 },
                                 {
                                    "name":"OAUTH_AUTHORIZE_URI",
                                    "value":"https://fabric8.local:8443/oauth/authorize"
                                 }
                              ],
                              "ports":[
                                 {
                                    "containerPort":9090,
                                    "protocol":"TCP"
                                 }
                              ]
                           }
                        ],
                        "version":"test"
                     }
                  },
                  "labels":{
                     "component":"fabric8Console"
                  }
               },
               "replicaSelector":{
                  "component":"fabric8Console"
               },
               "replicas":1
            },
            "strategy":{
               "type":"Recreate"
            }
         },
         "triggers":[
            {
               "type":"ImageChange",
               "imageChangeParams":{
                  "automatic":true,
                  "containerNames":[
                     "fabric8-console-container"
                  ],
                  "from":{
                     "name":"console"
                  },
                  "tag":"latest"
               }
            }
         ]
      }
   ]
}